<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- Reverts some stuff to Royalty's material costs -->

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>Defs/ThingDef[@Name="BodyPartProstheticImperialBase"]</xpath>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="PowerClaw"]/costList</xpath>
				<value>
					<costList>
						<Steel>40</Steel>
						<ComponentIndustrial>8</ComponentIndustrial>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="PowerArm"]/costList</xpath>
				<value>
					<costList>
						<Steel>95</Steel>
						<Plasteel>95</Plasteel>
						<ComponentIndustrial>16</ComponentIndustrial>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="AdvancedPowerArm"]/costList</xpath>
				<value>
					<costList>
						<Steel>95</Steel>
						<Plasteel>95</Plasteel>
						<ComponentIndustrial>16</ComponentIndustrial>
						<ComponentSpacer>5</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="Joywire"]/costList</xpath>
				<value>
					<costList>
						<Steel>20</Steel>
						<ComponentIndustrial>4</ComponentIndustrial>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="Painstopper"]/costList</xpath>
				<value>
					<costList>
						<Steel>20</Steel>
						<ComponentIndustrial>4</ComponentIndustrial>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="Joywire" or defName="Painstopper"]/thingCategories</xpath>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>Defs/TipSetDef[defName="RoyaltyTips"]</xpath>
			</li>
			<li Class="PatchOperationTest">
				<xpath>Defs/ResearchProjectDef[defName="EPOE_AdvancedSpecializedLimbs"]</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>Defs/TipSetDef[defName="EPOEForkedTips"]/tips</xpath>
				<value>
					<li>There is an optional expansion mod named "EPOE-Forked: Royalty DLC expansion", that adds more prosthesis and implant parts for the Royalty DLC.</li>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>Defs/ResearchProjectDef[@Name="BaseBodyPartEmpire_TierA"]</xpath>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>Defs/ResearchProjectDef[@Name="BaseBodyPartEmpire_TierA"]</xpath>
				<value>
					<tab>EPOE</tab>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="BrainWiring"]/researchViewX</xpath>
				<value>
					<researchViewX>0</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="BrainWiring"]/researchViewY</xpath>
				<value>
					<researchViewY>4</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="SpecializedLimbs"]/researchViewX</xpath>
				<value>
					<researchViewX>0</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="SpecializedLimbs"]/researchViewY</xpath>
				<value>
					<researchViewY>3.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="CompactWeaponry"]/researchViewX</xpath>
				<value>
					<researchViewX>0</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="CompactWeaponry"]/researchViewY</xpath>
				<value>
					<researchViewY>4.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="VenomSynthesis"]/researchViewX</xpath>
				<value>
					<researchViewX>1</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="VenomSynthesis"]/researchViewY</xpath>
				<value>
					<researchViewY>4.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="ArtificialMetabolism"]/researchViewX</xpath>
				<value>
					<researchViewX>2</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="ArtificialMetabolism"]/researchViewY</xpath>
				<value>
					<researchViewY>3.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="NeuralComputation"]/researchViewX</xpath>
				<value>
					<researchViewX>2</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="NeuralComputation"]/researchViewY</xpath>
				<value>
					<researchViewY>4</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="SkinHardening"]/researchViewX</xpath>
				<value>
					<researchViewX>2</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="SkinHardening"]/researchViewY</xpath>
				<value>
					<researchViewY>4.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="HealingFactors"]/researchViewX</xpath>
				<value>
					<researchViewX>3</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="HealingFactors"]/researchViewY</xpath>
				<value>
					<researchViewY>3.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="FleshShaping"]/researchViewX</xpath>
				<value>
					<researchViewX>3</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="FleshShaping"]/researchViewY</xpath>
				<value>
					<researchViewY>4</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="MolecularAnalysis"]/researchViewX</xpath>
				<value>
					<researchViewX>3</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="MolecularAnalysis"]/researchViewY</xpath>
				<value>
					<researchViewY>4.5</researchViewY>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="CircadianInfluence"]/researchViewX</xpath>
				<value>
					<researchViewX>4</researchViewX>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ResearchProjectDef[defName="CircadianInfluence"]/researchViewY</xpath>
				<value>
					<researchViewY>4</researchViewY>
				</value>
			</li>
		</operations>
	</Operation>
</Patch>